# This file is used to keep all my aliases between bash and zsh

# General shell
alias realias='vim ~/.dotfiles/aliases; source ~/.dotfiles/aliases'
alias vi='vim'
alias em='emacsclient -c --no-wait'
alias h='history'
alias grep='grep --color'
alias du='du -h'
alias userctl='systemctl --user'
alias psg='ps -aux | grep'
alias play='mplayer'
alias xclip='xclip -selection c'
alias off='sudo shutdown 0'
alias reboot='sudo reboot'

# Files and directories
alias cp='cp -iv'
alias mv='mv -v'
alias rm='rm -v'
alias md='mkdir -pv'
alias rd='rmdir'
alias pu='pushd'
alias po='popd'

alias ls='ls -h --color'
alias ll='ls -oh --color'
alias lal='ls -lah --color'
alias la='ls -a --color'

# Git
alias ga='git add'
alias gd='git diff'
alias gc='git commit -m'
alias gpsh='git push'
alias gpll='git pull'
alias gst='git status'
alias gco='git checkout'
alias glog='git log --oneline --decorate --color --graph'
# Get deleted files out of the repo
alias grm="git status | grep deleted | awk '{print \$3}' | xargs git rm"

# Ledger
alias bal='ledger bal'
alias ball='ledger bal assets liabilities'
alias reg='ledger reg'

xact() {
    ledger xact $@
    echo "\n"
    echo "Is this correct? Y/N "
    read -rs -k 1 ans
    if [[ $ans == "y" ]]; then
        ledger xact $@ >> ${LEDGER_FILE}
        printf "xact written to ${LEDGER_FILE}\n"
    fi
    
}


# Package management
if [[ -x /usr/bin/yaourt ]]; then
    alias pacs='yaourt -S'
    alias pacu='yaourt -U'
    alias pacr='yaourt -R'
    alias pacq='yaourt -Q | grep'
elif [[ -x /usr/bin/pacman ]]; then
    alias pacs='sudo pacman -S'
    alias pacu='sudo pacman -U'
    alias pacr='sudo pacman -R'
    alias pacq='pacman -Q | grep'
elif [[ -x /usr/bin/apt ]]; then
    alias apti='sudo apt-get install'
elif [[ -x /bin/rpm ]]; then
    alias rpmq='rpm -qa | grep'
fi

# File explorer
if [[ -x /usr/bin/dolphin ]]; then
    alias dol='dolphin "$(pwd)" 2>/dev/null &' # Open dolphin at this location
elif [[ -x /usr/bin/thunar ]]; then
    alias thu='thunar "$(pwd)"' # Open thunar
fi

if [[ -x /usr/bin/vendor_perl/mimeopen ]]; then
    alias open='mimeopen'
else
    alias open='xdg-open'
fi

# Various programs
alias ff='firefox 2>/dev/null &'
# Redshift will toggle on the USR1 signal
alias redkill='pkill -USR1 redshift'

## Functions ##

# Generic extracting
extract() {
    if [ -f $1 ] ; then
        case $1 in
             *.tar.bz2) tar xjf $1;;
             *.tar.gz) tar xzf $1;;
             *.bz2) bunzip2 $1;;
             *.rar) rar x $1;;
             *.gz) gunzip $1;;
             *.tar) tar xf $1;;
             *.tbz2) tar xjf $1;;
             *.tgz) tar xzf $1;;
             *.zip) unzip $1;;
             *.Z) uncompress $1;;
             *.7z) 7z x $1;;
             *) echo "'$1' cannot be extracted via extract()";;
         esac
     else
         echo "'$1' is not a valid file"
     fi
}
